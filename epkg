#! /bin/bash

action=$1
shift

case "$action" in
	search)
		eix "$*"
		;;
	install)
		emerge -av "$*"
		;;
	remove | uninstall)
		emerge --depclean -av "$*"
		;;
	update)
		eix-sync "$*"
		;;
	upgrade | dist-upgrade)
		# Make it portage 2.1-safe and make sure it catches EVERYTHING.
		emerge -uDvaN --with-bdeps=y @system world "$*"
		;;
	listfiles)
		equery files "$*"
		;;
	listinstalled)
		equery list "$*"
		;;
	forceremove)
		emerge --unmerge -av "$*"
		;;
	*)
		echo "Usage: epkg install|remove|uninstall|update|upgrade|dist-upgrade|search|listfiles|listinstalled|forceremove [package(s)]"
		;;
esac
